<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Interface to the National Rail Enquiries Systems â€¢ trainR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An Interface to the National Rail Enquiries Systems">
<meta property="og:description" content="The goal of trainR is to provide a simple interface to the 
    National Rail Enquiries (NRE) systems. There are few data feeds 
    available, the simplest of them is Darwin, which provides real-time 
    arrival and departure predictions, platform numbers, delay estimates, 
    schedule changes and cancellations. There are other data feeds that 
    provide historical data, Historic Service Performance (HSP), and much 
    more. trainR simplifies the data retrieval, so the users can focus 
    on their analyses. For more details visit 
    &lt;https://www.nationalrail.co.uk/46391.aspx&gt;. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">trainR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/villegar/trainR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="trainr-an-interface-to-the-national-rail-enquiries-systems-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#trainr-an-interface-to-the-national-rail-enquiries-systems-" class="anchor"></a>trainR: An Interface to the National Rail Enquiries Systems <img src="https://raw.githubusercontent.com/villegar/trainR/main/inst/images/logo.png" alt="logo" align="right" height="200px/">
</h1></div>
<!-- badges: start -->

<p>The goal of trainR is to provide a simple interface to the National Rail Enquiries (NRE) systems: <a href="https://www.nationalrail.co.uk/46391.aspx" class="uri">https://www.nationalrail.co.uk/46391.aspx</a></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of trainR from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"trainR"</span><span class="op">)</span></code></pre></div>
<p>And the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"villegar/trainR"</span><span class="op">)</span></code></pre></div>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Before starting to retrieve data from the NRE data feeds, you must obtain an access token. Visit the following website for details: <a href="http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/" class="uri">http://realtime.nationalrail.co.uk/OpenLDBWSRegistration/</a></p>
<p>Once you have received your access token, you have to store it in the <code>.Renviron</code> file; this can be done by executing the following command:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">trainR</span><span class="fu">::</span><span class="fu"><a href="reference/set_token.html">set_token</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will open a text file, <code>.Renviron</code>, add a new line at the end (as follows):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="va">NRE=</span><span class="st">"&lt;token&gt;"</span></span></code></pre></div>
<p><code>&lt;token&gt;</code> should be replaced by the access token obtained from the NRE. Save the changes and restart your R session.</p>
<p>You only need to perform this configuration once.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Load <code>trainR</code> to your working environment:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/villegar/trainR/">trainR</a></span><span class="op">)</span></code></pre></div>
<div id="arrivals-board-at-reading-station-rdg" class="section level3">
<h3 class="hasAnchor">
<a href="#arrivals-board-at-reading-station-rdg" class="anchor"></a>Arrivals board at Reading Station (RDG)</h3>
<p>Generated on 2021-01-13 19:31:04.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rdg_arr</span> <span class="op">&lt;-</span> <span class="fu">trainR</span><span class="fu">::</span><span class="fu"><a href="reference/GetArrBoardWithDetailsRequest.html">GetArrBoardWithDetailsRequest</a></span><span class="op">(</span><span class="st">"RDG"</span><span class="op">)</span>
<span class="fu"><a href="reference/print.html">print</a></span><span class="op">(</span><span class="va">rdg_arr</span><span class="op">)</span>
<span class="co">#&gt; Reading (RDG) Station Board on 2021-01-13 19:31:04</span>
<span class="co">#&gt; Time   From                                    Plat  Expected</span>
<span class="co">#&gt; 19:29  London Paddington                       7     On time</span>
<span class="co">#&gt; 19:30  London Paddington                       12    On time</span>
<span class="co">#&gt; 19:31  Cheltenham Spa                          11A   On time</span>
<span class="co">#&gt; 19:33  Redhill                                 4     19:41</span>
<span class="co">#&gt; 19:34  Basingstoke                             2     On time</span>
<span class="co">#&gt; 19:34  London Paddington                       8     19:41</span>
<span class="co">#&gt; 19:39  Bristol Temple Meads                    10A   19:42</span>
<span class="co">#&gt; 19:41  London Paddington                       9     19:46</span>
<span class="co">#&gt; 19:43  London Paddington                       13    On time</span>
<span class="co">#&gt; 19:44  London Paddington                       12    On time</span></code></pre></div>
<!-- Inspect the `rdg_arr` object: -->
<!-- #### Previous calling points -->
</div>
<div id="departures-board-at-reading-station-rdg" class="section level3">
<h3 class="hasAnchor">
<a href="#departures-board-at-reading-station-rdg" class="anchor"></a>Departures board at Reading Station (RDG)</h3>
<p>Generated on 2021-01-13 19:31:04.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rdg_dep</span> <span class="op">&lt;-</span> <span class="fu">trainR</span><span class="fu">::</span><span class="fu"><a href="reference/GetDepBoardWithDetailsRequest.html">GetDepBoardWithDetailsRequest</a></span><span class="op">(</span><span class="st">"RDG"</span><span class="op">)</span>
<span class="fu"><a href="reference/print.html">print</a></span><span class="op">(</span><span class="va">rdg_dep</span><span class="op">)</span>
<span class="co">#&gt; Reading (RDG) Station Board on 2021-01-13 19:31:05</span>
<span class="co">#&gt; Time   To                                      Plat  Expected</span>
<span class="co">#&gt; 19:30  Didcot Parkway                          12    On time</span>
<span class="co">#&gt; 19:31  Plymouth                                7     On time</span>
<span class="co">#&gt; 19:34  London Paddington                       11A   On time</span>
<span class="co">#&gt; 19:36  Bedwyn                                  8     19:42</span>
<span class="co">#&gt; 19:36  London Waterloo                         5     On time</span>
<span class="co">#&gt; 19:41  London Paddington                       10A   19:43</span>
<span class="co">#&gt; 19:42  Newbury                                 1     On time</span>
<span class="co">#&gt; 19:43  Swansea                                 9     19:47</span>
<span class="co">#&gt; 19:49  Bournemouth                             7     On time</span>
<span class="co">#&gt; 19:49  London Paddington                       10    19:52</span></code></pre></div>
<!-- #### Previous calling points -->
</div>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>Access to the data feeds it is only possible thanks to the National Rail Enquiries. This package is just a tool to facilitate access to the data. For more information about the available data feeds, visit <a href="https://www.nationalrail.co.uk" class="uri">https://www.nationalrail.co.uk</a>.</p>
<p><img src="https://raw.githubusercontent.com/villegar/trainR/main/inst/images/NRE_Powered_logo.jpg"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/villegar/trainR/">https://â€‹github.com/â€‹villegar/â€‹trainR/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/villegar/trainR/issues/">https://â€‹github.com/â€‹villegar/â€‹trainR/â€‹issues/â€‹</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Roberto Villegas-Diaz <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5036-8661" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/villegar/trainR"><img src="https://img.shields.io/badge/devel%20version-0.0.1-yellow.svg"></a></li>
<li><a href="https://github.com/villegar/trainR/actions"><img src="https://github.com/villegar/trainR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://cran.r-project.org/package=trainR"><img src="https://www.r-pkg.org/badges/version/trainR?color=black"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Roberto Villegas-Diaz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
